<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fiche Technique M2SI - Scala, Spark & Kafka</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 10px; /* RÃ©duit pour mobile */
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 1.8em; /* Plus petit pour mobile */
            margin-bottom: 10px;
        }

        .content {
            padding: 15px;
            display: grid;
            grid-template-columns: 1fr; /* 1 colonne par dÃ©faut (mobile) */
            gap: 20px;
        }

        .section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            border-left: 5px solid #667eea;
        }

        .section h2 {
            color: #1e3c72;
            margin-bottom: 15px;
            font-size: 1.4em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* --- Correction Tableaux Responsives --- */
        .table-wrapper {
            width: 100%;
            overflow-x: auto; /* Permet le dÃ©filement horizontal si le tableau est trop large */
            margin: 15px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            min-width: 400px; /* Garantit la lisibilitÃ© des colonnes */
        }

        th, td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
            font-size: 0.9em;
        }

        th {
            background: #667eea;
            color: white;
        }

        /* --- Code et blocs --- */
        code {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 12px;
            border-radius: 8px;
            display: block;
            margin: 10px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
        }

        .inline-code {
            background: #e8eaf6;
            color: #1e3c72;
            padding: 2px 4px;
            border-radius: 4px;
            word-break: break-all; /* Ã‰vite de sortir de l'Ã©cran */
        }

        .note, .highlight {
            padding: 12px;
            border-radius: 8px;
            margin: 10px 0;
            font-size: 0.9em;
        }

        .note { background: #d1ecf1; border-left: 4px solid #17a2b8; }
        .highlight { background: #fff3cd; border-left: 4px solid #ffc107; }

        /* --- Grille Kafka interne --- */
        .kafka-grid {
            display: grid;
            grid-template-columns: 1fr; /* 1 colonne sur mobile */
            gap: 15px;
        }

        /* --- MEDIA QUERIES (Ã‰crans larges) --- */
        @media (min-width: 992px) {
            body { padding: 30px; }
            .header { padding: 40px; }
            .header h1 { font-size: 2.5em; }
            .content { 
                grid-template-columns: repeat(2, 1fr); /* 2 colonnes sur PC */
                padding: 30px; 
            }
            .full-width { grid-column: 1 / -1; }
            .kafka-grid { grid-template-columns: 1fr 1fr; } /* 2 colonnes Kafka sur PC */
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸš€ Fiche Technique M2SI</h1>
            <p>Scala, Spark & Kafka - PrÃ©paration</p>
        </div>

        <div class="content">
            <div class="section">
                <h2>ðŸ“˜ 1. Fondamentaux Scala</h2>
                <div class="table-wrapper">
                    <table>
                        <tr><th>Concept</th><th>Syntaxe</th></tr>
                        <tr><td><strong>Variables</strong></td><td><span class="inline-code">val x = 10</span></td></tr>
                        <tr><td><strong>Boucles</strong></td><td><span class="inline-code">for(i <- 1 to 5)</span></td></tr>
                        <tr><td><strong>Fonction</strong></td><td><span class="inline-code">def nom(a: Int): Int</span></td></tr>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2>ðŸ“¦ 2. Collections</h2>
                <ul>
                    <li><strong>CrÃ©ation:</strong> <span class="inline-code">List(1, 2, 3)</span></li>
                    <li><strong>Concat:</strong> <span class="inline-code">l1 ::: l2</span></li>
                </ul>
                <div class="note"><strong>Either:</strong> Right = SuccÃ¨s, Left = Erreur.</div>
            </div>

            <div class="section">
                <h2>âš¡ 4. Spark Core</h2>
                <code>val spark = SparkSession.builder().getOrCreate()</code>
                <div class="highlight">Transformations (Lazy) vs Actions (Eager)</div>
            </div>

            <div class="section full-width">
                <h2>ðŸŒŠ 5. Kafka & Streaming</h2>
                <div class="kafka-grid">
                    <div>
                        <h3>Architecture</h3>
                        <ul>
                            <li><strong>Broker:</strong> Serveur Kafka</li>
                            <li><strong>Topic:</strong> Flux de donnÃ©es</li>
                            <li><strong>Partition:</strong> ParallÃ©lisme</li>
                        </ul>
                    </div>
                    <div class="highlight">
                        <strong>Note:</strong> L'ordre est garanti par partition uniquement.
                    </div>
                </div>
                <code>// Exemple Scala Kafka
val df = spark.readStream.format("kafka").load()</code>
            </div>
        </div>
    </div>
</body>
</html>
